(function(){var _=function(){throw new Error("can not be instantiated");};_.testPCSCDNConnectivity=function(A){_._getHostList(A);};_._sList=null;_._sIndex=-1;_._sConnectedIndex=-1;_._sResult=0;_._path=null;_._sRevision=0;_._getHostList=function(A){$.ajax({url:"https://d.pcs.baidu.com/rest/2.0/pcs/manage?method=listhost&t="+(new Date().getTime()),method:"get",dataType:"jsonp",success:function(B){if(B&&B.list){_._path=B.path;_._sList=B.list;_._sRevision=B.rev||0;_._startTesting(A);}},error:function(B){if(typeof A=="function"){A.call(_,0);}}});};_._startTesting=function(B){_._sIndex++;var A=_._sList[_._sIndex];if(_._sIndex<_._sList.length){var C=new Image();C.onload=function(){_._sConnectedIndex=_._sIndex;_._sResult+=A.id;_._startTesting(B);};C.onerror=function(){_._startTesting(B);};C.src="http://"+A.host+(_._path||"/monitor.jpg?xcode=1a81b0bbd448fc368d78cc336e28561a")+"&t="+(new Date().getTime());}else{if(typeof B=="function"){B.call(_,1,_._sConnectedIndex,_._sList,_._sResult,_._sRevision);}}};disk.util.PCSUtils=_;})();