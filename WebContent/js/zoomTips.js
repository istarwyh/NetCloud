(function(){var _=function(_){this.conf=_||{height:"30px",backgroundColor:"#F8EBBF",needDownDom:$(".doc"),fontSize:"12px",color:"#333"};this._init();};_.prototype={constructor:_,_init:function(){var _=this;if(window.detectZoom){_._installZoomTips();}else{ark.use({url:"disk.util.zoom",noDependency:true},function(){_._installZoomTips();});}},_installZoomTips:function(){this.zoomFlag=this._isZoom();var _=$(".zoom-tips-container");this._isNoTips();if(this.zoomFlag===0||this.conf.isNoTips){this.conf.needDownDom.css("marginTop","0px");_.length!=0&&_.remove();return;}else{this.conf.needDownDom.css("marginTop",this.conf.height);if(_.length===0){this._prepend();}else{_.show();}this._bindEvent();}},_isNoTips:function(){var _=this;disk.Context.requestFeature(disk.Context.FEATURE_STORAGE,{succ:function(){var B=_._getWizardKey(),A=localStorage.getItem(B);if(A){_.conf.isNoTips=1;}else{_.conf.isNoTips=0;}}});},_getWizardKeyPrefix:function(){return FileUtils.sysUID.replace(/@/gi,"");},_getWizardKey:function(){return this._getWizardKeyPrefix()+"_zoom_tips_display";},_bindEvent:function(){var A=this,_=$(".zoom-tips-container");$(".zoom-tips-container").delegate(".zoom-tips-close","click",function(){A.conf.needDownDom.animate({marginTop:"0px"});setTimeout(function(){_.length!=0&&_.remove();},1000);});$(".zoom-tips-container").delegate(".zoom-tips-no-ask","click",function(){disk.Context.requestFeature(disk.Context.FEATURE_STORAGE,{succ:function(){var _=A._getWizardKey();localStorage.setItem(_,1);}});A.conf.needDownDom.animate({marginTop:"0px"});setTimeout(function(){_.length!=0&&_.remove();},1000);});},_prepend:function(){var A=this._zoomTipsFragment(this.zoomFlag),_=document.createElement("div");_.className="zoom-tips-container";_.style.cssText="position:fixed;left:0px;top:0px;border:1px solid #F4CC6F;box-shadow:0 1px 3px #DDD;width:100%;overflow:hidden;height:"+this.conf.height+";background:"+this.conf.backgroundColor+";";document.body.appendChild(_);_.innerHTML=A;},_isZoom:function(){var _=Math.floor(detectZoom.zoom()*100);return _>100?1:(_<100?-1:0);},_zoomTipsMsg:function(_){return"\u4f60\u7684\u6d4f\u89c8\u5668\u88ab"+(_===-1?"\u7f29\u5c0f":"\u653e\u5927")+"\u4e86\uff0c\u6309\u952e\u76d8\u4e0a\u7684\u201cCtrl+\u6570\u5b570\u201d\u7ec4\u5408\u952e\u5c31\u6062\u590d\u6b63\u5e38\u72b6\u6001\u4e86";},_zoomTipsFragment:function(A){var _='<div class="zoom-tips-inner" style="font-family:tahoma, arial, simsun;color:'+this.conf.color+";width:550px;line-height:"+this.conf.height+";font-size:"+this.conf.fontSize+';margin:0 auto;">'+this._zoomTipsMsg(A)+'<a class="zoom-tips-no-ask" style="margin-left:10px;cursor:pointer;color:#1e79c6;text-decoration: underline;">\u4e0d\u518d\u63d0\u793a</a></div>';_+='<a class="zoom-tips-close" style="position: absolute;top: 5px;right: 10px;\twidth: 14px;height: 14px;cursor:pointer;background: url(\'/res/static/images/btn_icon.gif\') no-repeat -112px -114px"></a>';return _;}};disk.ui.ZoomTips=_;})();